<!DOCTYPE html>
<html lang="en">
  <%- include("partials/header.ejs") %>
  <body>
    <ul>
      <li><a href="/">Home</a></li>
      <li><a href="/logout">Logout</a></li>
    </ul> 
    <!-- form start -->
    <div class="container mt-5">
      <form class="card mt-3 p-4" action="/patient" method="post">
        <div class="mb-3">
          <label for="symptoms">Symptoms</label>
          <textarea
            class="form-control"
            id="symptoms"
            name="symptoms"
            cols="7"
            rows="3"
            maxlength="30"
            required
          ></textarea>
        </div>
        <div class="mb-3">
          <label for="symptomDays">
            Days with symptoms
          </label>
          <input
            class="form-control"
            id="symptomDays"
            name="symptomDays"
            type="number"
            min="1"
            max="90"
            required
          />
        </div>
        <div class="mb-3">
          <label for="deliverTo" class="form-label">Deliver To</label>
          <select name="deliverTo" id="deliverTo" class="form-select form-control" required>
            <option value="Boys Hostel">Boys Hostel</option>
            <option value="Girls Hostel">Girls Hostel</option>
            <option value="Academic Block">Academic Block</option>
          </select>
        </div>
        <button type="submit" class="btn btn-dark mt-2 ">submit</button>
      </form>
    </div>
    <!-- form end -->
    <div class="container mb-5">
      <h2 class="text-center mt-5">Pending Requests</h2>
      <% if (isEmpty) { %>
      <div class="card text-center mt-5">
        <p>You have no pending requests.</p>
      </div>
      <% } else { %> <% records.forEach((element) => { %> 
      <% const {symptoms, symptomDays, deliverTo} = element %>
      <div class="card mx-auto mt-5 p-2">
        <div class="mb-3 row">
          <label for="deliverTo" class="col-sm-2 col-form-label">
            Symptoms:
          </label>
          <div class="col-sm-10">
            <input
              type="text"
              class="form-control-plaintext"
              id="symptoms"
              value="<%= symptoms %>"
              disabled
            />
          </div>
        </div>
        <div class="mb-3 row">
          <label for="symptomDays" class="col-sm-2 col-form-label">
            Days with symptoms:
          </label>
          <div class="col-sm-10">
            <input
              type="text"
              class="form-control-plaintext"
              id="symptomDays"
              value="<%= symptomDays %>"
              disabled
            />
          </div>
        </div>
        <div class="mb-3 row">
          <label for="deliverTo" class="col-sm-2 col-form-label">
            Deliver To:
          </label>
          <div class="col-sm-10">
            <input
              type="text"
              class="form-control-plaintext"
              id="deliverTo"
              value="<%= deliverTo %>"
              disabled
            />
          </div>
        </div>
      </div>
      <% }) %> <% } %>
    </div>
  </body>
</html>
